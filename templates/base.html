{% load static tailwind_tags %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
    
        {% block title %}Indian Districts {% endblock title %}
    </title>
    {% comment %} <script src="https://cdn.tailwindcss.com"></script> {% endcomment %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
   {% tailwind_css %}
</head>



<body class="bg-white">
    <!-- Navbar -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
    <div class="container mx-auto px-4 md:px-6 lg:px-8 xl:px-12 2xl:px-16">
        <div class="flex justify-between items-center py-4">
            <div class="flex items-center space-x-4">
                <a href="{% url 'home:index' %}" class="flex items-center"> {# Changed to dynamic URL #}
                    <img src="{% static 'img/cka_logo.png' %}" alt="Logo" class="h-7 md:h-10" />
                </a>
            </div>

            <div class="hidden md:flex items-center space-x-4">
                <!-- Wrap the input in a form that points to your search URL -->                
                 <form method="GET" action="{% url 'search:query' %}" class="relative">
                    <input
                        type="search"
                        name="q" {# The 'name' attribute is essential #}
                        placeholder="Search..."
                        class="search-input pl-10 pr-4 py-2 rounded-full border border-gray-300 focus:outline-none focus:ring-1 focus:ring-[#863F3F] focus:border-[#863F3F]"
                        value="{{ request.GET.q }}" {# Pre-fills the search box with the current query #}
                    >
                    
                    <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                    {# Note: A submit button isn't strictly necessary as pressing Enter works, but you can add one if you like #}
                </form>
                <a href="#" class="user-icon" >
                    <i class="fas fa-user usericon colorburg"></i>&nbsp;&nbsp;
                </a> 
    </div>

            <!-- ============================================= -->
            <!-- ==         MOBILE MENU & SEARCH (MODIFIED) == -->
            <!-- ============================================= -->
            <div class="md:hidden flex items-center space-x-3 relative">
                <!-- Mobile Search: Now a form -->
                <form id="mobile-search-form" method="GET" action="{% url 'search:query' %}" class="relative">
                    <!-- Search Icon Button (remains the same) -->
                    <button id="mobile-search-button" type="button" class="text-gray-600 hover:text-[#863F3F]  transition-colors duration-200 p-2">
                        <i class="fas fa-search text-xl"></i>
                    </button>
                    
                    <!-- Expandable Search Container -->
                    <div id="mobile-search-container" class="absolute top-0 right-0 transform transition-all duration-300 ease-out opacity-0 scale-x-0 origin-right">
                        <div class="flex items-center bg-white border border-gray-300 ">                            
                            <input 
                                type="search"
                                name="q" {# The 'name' attribute is essential #}
                                id="mobile-search-input"
                                placeholder="Search..." 
                                class="search-input pl-4 pr-2 py-2 focus:outline-none focus:border-[#863F3F] w-28"
                                value="{{ request.GET.q }}" {# Pre-fills search box #}
                            >
                            <!-- This button now SUBMITS the form -->
                            <button id="search-submit-button" type="submit" class="px-3 py-2 text-[#863F3F] hover:text-[#863F3F]-dark transition-colors">
                                <i class="fas fa-arrow-right"></i>
                            </button>
                            <!-- This button now CLOSES the search bar (type="button") -->
                            <button id="search-close-button" type="button" class="px-3 py-2 text-gray-400 hover:text-gray-600 transition-colors border-l border-gray-200">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </form>
                
                {% comment %} <!-- Mobile Menu Button -->
                <button id="mobile-menu-button" type="button" class="text-gray-600 hover:text-[#863F3F] transition-colors duration-200 p-2">
                    <i class="fas fa-bars text-xl"></i>
                </button> {% endcomment %}
                <a href="#" class="user-icon" >
                    <i class="fas fa-user usericon colorburg"></i>&nbsp;&nbsp;
                </a> 
            </div>
        </div>
        
        {% comment %} <!-- Mobile Menu (remains the same) -->
        <div id="mobile-menu" class="md:hidden hidden pb-4">
            <a href="#" class="block py-2 px-4 text-center  text-[#863F3F] border border-[#863F3F] hover:bg-[#863F3F] hover:text-white transition-colors">Login</a> {# Changed href to # for now #}
        </div> {% endcomment %}
    </div>
</nav>






    <!-- Main Content -->
    <main>
        {% block header %}{% endblock header %}
        {% block content %}
        {% endblock content %}
    </main>

    <footer class="bg-white border-t border-gray-200">
        <div class="container mx-auto px-4 md:px-6 lg:px-8 xl:px-12 2xl:px-16 py-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div class="flex flex-col items-center justify-center space-y-6">
                    <div class="flex justify-center">
                        <img src="{% static 'img/cka_logo.png' %}" alt="Logo 1" class="h-12 transition-transform duration-300 hover:scale-110">
                    </div>
                    <div class="flex justify-center">
                        <img src="{% static 'img/flame-logo.png' %}" alt="Logo 2" class="h-12 transition-transform duration-300 hover:scale-110">
                    </div>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold text-[#863F3F] mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-600 text-sm hover:text-[#863F3F] transition-colors duration-300 hover:translate-x-1 inline-block">Project</a></li>
                        <li><a href="#" class="text-gray-600 text-sm hover:text-[#863F3F] transition-colors duration-300 hover:translate-x-1 inline-block">People</a></li>
                        <li><a href="#" class="text-gray-600 text-sm hover:text-[#863F3F] transition-colors duration-300 hover:translate-x-1 inline-block">Suggest Edits</a></li>
                        <li><a href="#" class="text-gray-600 text-sm hover:text-[#863F3F] transition-colors duration-300 hover:translate-x-1 inline-block">Partnerships</a></li>
                        <li><a href="#" class="text-gray-600 text-sm hover:text-[#863F3F] transition-colors duration-300 hover:translate-x-1 inline-block">Careers</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold text-[#863F3F] mb-4">About</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-600 text-sm hover:text-[#863F3F] transition-colors duration-300 hover:translate-x-1 inline-block">About Centre for Knowledge Alternatives</a></li>
                        <li><a href="#" class="text-gray-600 text-sm hover:text-[#863F3F] transition-colors duration-300 hover:translate-x-1 inline-block">About FLAME University</a></li>
                        <li><a href="#" class="text-gray-600 text-sm hover:text-[#863F3F] transition-colors duration-300 hover:translate-x-1 inline-block">Subscribe</a></li>
                        <li><a href="#" class="text-gray-600 text-sm hover:text-[#863F3F] transition-colors duration-300 hover:translate-x-1 inline-block">Terms & Conditions</a></li>
                        <li><a href="#" class="text-gray-600 text-sm hover:text-[#863F3F] transition-colors duration-300 hover:translate-x-1 inline-block">Disclaimers</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold text-[#863F3F] mb-4">Contact</h4>
                    <ul class="space-y-2">
                        <li class="flex">
                            <i class="fas fa-map-marker-alt text-[#863F3F] mt-1 mr-2"></i>
                            <span class="text-gray-600 text-sm">Centre for Knowledge Alternatives,<br>FLAME University,<br>Lavale, Pune 412115, India</span>
                        </li>
                        <li class="flex">
                            <i class="fas fa-envelope text-[#863F3F] mt-1 mr-2"></i>
                            <span class="text-gray-600 text-sm">cka@flame.edu.in</span>
                        </li>
                        <li class="flex">
                            <i class="fas fa-phone-alt text-[#863F3F] mt-1 mr-2"></i>
                            <span class="text-gray-600 text-sm">+91-20-67906000</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-200 mt-8 pt-6">
                <p class="text-sm text-gray-500 text-center">
                    The Project is licensed under a Creative Commons Attribution 4.0 International License. Disclaimer: This data is being furnished to you for your information.
                    We make every effort to use reliable and comprehensive information, but we do not represent that this information is accurate or complete.
                </p>
            </div>
        </div>
    </footer>





  {% comment %} <!-- JavaScript for mobile menu toggle -->
    <script>
        // Mobile menu toggle
        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        });

       
    </script> {% endcomment %}
   

    <script>
document.addEventListener('DOMContentLoaded', function () {
    const mobileSearchButton = document.getElementById('mobile-search-button');
    const mobileSearchContainer = document.getElementById('mobile-search-container');
    const mobileSearchInput = document.getElementById('mobile-search-input');
    const searchCloseButton = document.getElementById('search-close-button');

    // Function to open the mobile search bar
    mobileSearchButton.addEventListener('click', function (event) {
        event.stopPropagation(); // Prevents click from closing it immediately
        mobileSearchContainer.classList.remove('opacity-0', 'scale-x-0');
        mobileSearchContainer.classList.add('opacity-100', 'scale-x-100');
        mobileSearchInput.focus(); // Automatically focus the input field
    });

    // Function to close the mobile search bar
    function closeSearch() {
        mobileSearchContainer.classList.add('opacity-0', 'scale-x-0');
        mobileSearchContainer.classList.remove('opacity-100', 'scale-x-100');
    }

    searchCloseButton.addEventListener('click', closeSearch);

    // Close the search bar if user clicks outside of it
    document.addEventListener('click', function (event) {
        const isClickInside = mobileSearchContainer.contains(event.target) || mobileSearchButton.contains(event.target);
        if (!isClickInside) {
            closeSearch();
        }
    });

    // Handle form submission via the search icon button
    const searchSubmitButton = document.getElementById('search-submit-button');
    const mobileSearchForm = document.getElementById('mobile-search-form');

    // The arrow button will now submit the form it's inside
    // No extra JS needed for this if it's type="submit"
});
</script>


</body>
</html>